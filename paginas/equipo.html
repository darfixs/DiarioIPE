<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Portada IPEII</title>
    <link rel="stylesheet" href="../puntero/cursor.css">
    <link rel="stylesheet" href="../paginas/equipo.css" />

    <!-- ‚úÖ SOLO A√ëADIDO: estilos extra para el eje + escenas (sin tocar tu CSS externo) -->
    <style>
        /* ====== Actividad 1 ¬∑ Escenas ====== */
        .scene-nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            margin: 10px 0 14px;
            padding: 8px 10px;
            border-radius: 999px;
            background: linear-gradient(90deg, #fefefe, #d6e7ff);
            border: 1px solid #5f8dd0;
            box-shadow: 0 1px 0 rgba(255, 255, 255, 0.8);
        }

        .scene-nav .scene-step {
            font-weight: 800;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: #0b2c5e;
            font-size: 0.8rem;
        }

        .scene-nav .scene-actions {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .scene-btn {
            padding: 6px 12px;
            border-radius: 999px;
            border: 1px solid rgba(0, 0, 0, 0.65);
            background: linear-gradient(180deg, #ffffff, #ccd9ff);
            font-weight: 800;
            font-size: 0.85rem;
            cursor: url("../puntero/roundyhand.cur"), pointer;
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.9), 0 2px 5px rgba(0, 0, 0, 0.35);
        }

        .scene-btn:disabled {
            opacity: 0.55;
            cursor: default;
        }

        .scene {
            display: none;
            margin-top: 8px;
        }

        .scene.active {
            display: block;
        }

        /* ====== Tabla bonita ====== */
        .role-table {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 14px;
            margin-top: 12px;
        }

        .role-table-col {
            position: relative;
            border-radius: 14px;
            padding: 12px 12px 46px;
            background: rgba(255, 255, 255, 0.92);
            border: 1px solid rgba(0, 40, 90, 0.35);
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.85), 0 6px 16px rgba(0, 0, 0, 0.18);
        }

        .role-table-col h4 {
            margin-bottom: 8px;
            font-size: 0.95rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: #0b2c5e;
        }

        .role-table-col ul {
            list-style: none;
            padding-left: 0;
            margin: 0;
        }

        .role-table-col li {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            padding: 6px 8px;
            border-radius: 10px;
            background: linear-gradient(180deg, #f7fbff, #e4efff);
            border: 1px solid rgba(0, 40, 90, 0.12);
            margin-bottom: 6px;
            font-size: 0.88rem;
            color: #132a52;
        }

        .role-total {
            position: absolute;
            left: 12px;
            right: 12px;
            bottom: 10px;
            height: 30px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: #06224a;
            background: linear-gradient(180deg, #fffbdc, #ffe090);
            border: 1px solid rgba(150, 120, 40, 0.5);
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.9);
        }

        /* ====== Eje interactivo (sin imagen) ====== */
        .axis-shell {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 14px;
            margin-top: 12px;
            align-items: start;
        }

        .axis-container {
            position: relative;
            width: 100%;
            aspect-ratio: 16 / 10;
            min-height: 260px;
            border-radius: 16px;
            background: radial-gradient(circle at 30% 0%, rgba(255, 255, 255, 0.9), rgba(210, 230, 255, 0.9));
            border: 1px solid rgba(0, 40, 90, 0.55);
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.9), 0 10px 24px rgba(0, 0, 0, 0.25);
            overflow: hidden;
            cursor: crosshair;
        }

        .axis-grid {
            position: absolute;
            inset: 0;
            background-image:
                linear-gradient(to right, rgba(0, 40, 90, 0.10) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(0, 40, 90, 0.10) 1px, transparent 1px);
            background-size: 28px 28px;
            opacity: 0.65;
            pointer-events: none;
        }

        .axis-cross {
            position: absolute;
            inset: 0;
            pointer-events: none;
        }

        .axis-cross::before,
        .axis-cross::after {
            content: "";
            position: absolute;
            background: rgba(0, 35, 80, 0.85);
            box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.55);
        }

        /* eje vertical */
        .axis-cross::before {
            width: 3px;
            top: 0;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }

        /* eje horizontal */
        .axis-cross::after {
            height: 3px;
            left: 0;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
        }

        .axis-label {
            position: absolute;
            font-weight: 900;
            font-size: 0.82rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: #0b2c5e;
            text-shadow: 0 1px 0 rgba(255, 255, 255, 0.9);
            background: rgba(255, 255, 255, 0.65);
            border: 1px solid rgba(0, 40, 90, 0.25);
            border-radius: 999px;
            padding: 5px 10px;
            backdrop-filter: blur(6px);
            -webkit-backdrop-filter: blur(6px);
        }

        .axis-label.top {
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .axis-label.bottom {
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .axis-label.left {
            left: 10px;
            top: 50%;
            transform: translateY(-50%) rotate(-90deg);
            transform-origin: left center;
        }

        .axis-label.right {
            right: 10px;
            top: 50%;
            transform: translateY(-50%) rotate(90deg);
            transform-origin: right center;
        }

        .quadrant {
            position: absolute;
            width: 50%;
            height: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.10em;
            font-size: 0.78rem;
            color: rgba(9, 35, 93, 0.90);
            padding: 10px;
            text-align: center;
            pointer-events: none;
        }

        .q-tl {
            left: 0;
            top: 0;
            background: rgba(255, 80, 80, 0.12);
        }

        .q-tr {
            right: 0;
            top: 0;
            background: rgba(120, 255, 120, 0.12);
        }

        .q-bl {
            left: 0;
            bottom: 0;
            background: rgba(255, 230, 120, 0.16);
        }

        .q-br {
            right: 0;
            bottom: 0;
            background: rgba(120, 170, 255, 0.16);
        }

        .axis-point {
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 999px;
            background: radial-gradient(circle at 30% 30%, #ffffff, #ff5252 60%, #b80000);
            border: 2px solid rgba(0, 0, 0, 0.75);
            box-shadow: 0 0 10px rgba(255, 80, 80, 0.85), 0 0 0 2px rgba(255, 255, 255, 0.7);
            transform: translate(-50%, -50%);
            display: none;
            pointer-events: none;
        }

        .axis-point.preview {
            display: block;
            opacity: 0.55;
            filter: saturate(0.9);
        }

        .axis-point.final {
            display: block;
            opacity: 1;
        }

        .axis-side {
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.92);
            border: 1px solid rgba(0, 40, 90, 0.35);
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.85), 0 10px 24px rgba(0, 0, 0, 0.18);
            padding: 12px;
        }

        .axis-side h4 {
            font-size: 0.95rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: #0b2c5e;
            margin-bottom: 6px;
        }

        .axis-side p {
            font-size: 0.88rem;
            color: #132a52;
            line-height: 1.35;
            margin-bottom: 10px;
        }

        .draw-btn {
            width: 100%;
            padding: 10px 12px;
            border-radius: 12px;
            border: 1px solid rgba(0, 0, 0, 0.65);
            background: linear-gradient(180deg, #fffce8, #ffd671);
            font-weight: 900;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: #3b2a00;
            cursor: url("../puntero/roundyhand.cur"), pointer;
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.9), 0 10px 18px rgba(0, 0, 0, 0.18);
        }

        .draw-result {
            margin-top: 10px;
            border-radius: 12px;
            padding: 10px 10px;
            background: linear-gradient(180deg, #f7fbff, #e4efff);
            border: 1px solid rgba(0, 40, 90, 0.18);
            color: #0a2148;
            font-size: 0.9rem;
            font-weight: 800;
            display: none;
        }

        .draw-result.visible {
            display: block;
        }

        .role-reflection {
            border-radius: 14px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.92);
            border: 1px solid rgba(0, 40, 90, 0.35);
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.85), 0 10px 24px rgba(0, 0, 0, 0.18);
        }

        .role-reflection p {
            font-size: 0.92rem;
            line-height: 1.5;
            color: #132a52;
            margin-bottom: 10px;
        }

        @media (max-width: 980px) {
            .axis-shell {
                grid-template-columns: 1fr;
            }

            .role-table {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <!-- VIDEO DE FONDO -->
    <div class="video-bg">
        <video src="../imagenes/video/video3.mp4" autoplay muted loop playsinline></video>
    </div>

    <!-- BARRA SUPERIOR TIPO VENTANA XP -->
    <header class="top-bar">
        <div class="top-bar-inner">
            <img src="../imagenes/topletras/primera.png" class="top-icon-img" alt="icono">
            <img src="../imagenes/topletras/Logoprincipal.png" class="top-icon-img" alt="icono">
            <img src="../imagenes/topletras/segunda.png" class="top-icon-img" alt="icono">
            <img src="../imagenes/topletras/tercera.png" class="top-icon-img" alt="icono">
            <span class="top-title">Diario IPE DAW II </span>
        </div>
        <div class="top-buttons">
            <div class="top-btn">‚ñÅ</div>
        </div>
        <button id="fullscreen-btn" class="top-btn maximize">‚ñ¢</button>
        <div class="top-btn close">‚úï</div>
    </header>

    <!-- LOGO DVD CON TU CARA REBOTANDO -->
    <div id="dvd-pfp" class="dvd-pfp">
        <div class="dvd-frame">
            <div class="dvd-inner">
                <img src="../imagenes/pfp.png" alt="Foto de perfil de Jose Dario Alfaro Santos">
            </div>
        </div>
    </div>

    <!-- CAPA CENTRAL: ACTIVIDADES RA2 -->
    <main class="activities-layer">
        <div class="activities-grid">

            <!-- ‚úÖ ACTIVIDAD 1 (equipo) - ahora: contenido OCULTO en la tarjeta y aparece al expandir -->
            <article class="activity-card" data-activity="a3">
                <button class="activity-close" type="button">‚úï</button>
                <header class="activity-header">
                    <span class="activity-title">Actividad 1</span>
                    <span class="activity-subtitle">Rol de estilo social</span>
                </header>

                <div class="activity-body">
                    <div class="activity-icon">
                        <img src="../imagenes/iconos/User003.ico" alt="Icono actividad 1">
                    </div>
                    <div class="activity-text">
                        <h3>Resultado: T√©cnico Anal√≠tico</h3>
                        <p>
                            Rellen√© la tabla y, al sumar los valores, mi perfil sali√≥
                            <strong>T√©cnico Anal√≠tico</strong>. Entra para ver la tabla, el eje interactivo y mi reflexi√≥n.
                        </p>
                        <span class="activity-tag">Haz clic para abrir</span>
                    </div>
                </div>

                <!-- ‚úÖ CONTENIDO EXTENDIDO (solo visible al maximizar) -->
                <section class="activity-content activity3-content">
                    <!-- NAV de escenas -->
                    <div class="scene-nav">
                        <span class="scene-step" id="a3-step">Escena 1/3</span>
                        <div class="scene-actions">
                            <button class="scene-btn" id="a3-prev" type="button" disabled>‚óÄ Anterior</button>
                            <button class="scene-btn" id="a3-next" type="button">Siguiente ‚ñ∂</button>
                        </div>
                    </div>

                    <!-- ESCENA 1: TABLA -->
                    <div class="scene active" data-scene="0">
                        <h3>üìä Tabla de resultados ‚Äì Autopercepci√≥n en el equipo</h3>
                        <p>
                            Punt√∫o cada rasgo del <strong>1 al 4</strong> (1 = lo que m√°s va conmigo, 4 = lo que menos).
                            La suma final marca mi posici√≥n dentro del eje.
                        </p>

                        <div class="role-table">
                            <div class="role-table-col">
                                <h4>Personalidad</h4>
                                <ul>
                                    <li>Riesgo <strong>2</strong></li>
                                    <li>Comunicaci√≥n <strong>4</strong></li>
                                    <li>Opini√≥n / Aceptaci√≥n <strong>4</strong></li>
                                    <li>Exigente <strong>4</strong></li>
                                    <li>Contacto visual <strong>1</strong></li>
                                    <li>Competitivo <strong>2</strong></li>
                                    <li>Di√°logo <strong>3</strong></li>
                                    <li>Tono de voz <strong>3</strong></li>
                                </ul>
                                <div class="role-total">Total: 23</div>
                            </div>

                            <div class="role-table-col">
                                <h4>Sensibilidad</h4>
                                <ul>
                                    <li>Social <strong>3</strong></li>
                                    <li>Intuitivo <strong>3</strong></li>
                                    <li>√ânfasis <strong>4</strong></li>
                                    <li>Conversaciones <strong>3</strong></li>
                                    <li>Gesticular <strong>2</strong></li>
                                    <li>Cara alegre <strong>3</strong></li>
                                    <li>Abierto <strong>3</strong></li>
                                    <li>Amigable <strong>1</strong></li>
                                </ul>
                                <div class="role-total">Total: 22</div>
                            </div>
                        </div>
                    </div>

                    <!-- ESCENA 2: EJE INTERACTIVO + BOT√ìN DIBUJAR -->
                    <div class="scene" data-scene="1">
                        <h3>üéØ Eje de coordenadas ‚Äì Dibuja mi punto</h3>
                        <p>
                            Haz <strong>click dentro del eje</strong> para previsualizar el punto. Luego pulsa
                            <strong>‚ÄúDibujar‚Äù</strong> para colocarlo y ver el rol del cuadrante.
                        </p>

                        <div class="axis-shell">
                            <div class="axis-container" id="a3-axis" aria-label="Eje de estilos sociales">
                                <div class="axis-grid"></div>
                                <div class="axis-cross"></div>

                                <span class="axis-label top">Mayor asertividad</span>
                                <span class="axis-label bottom">Menor asertividad</span>
                                <span class="axis-label left">Menor emotividad</span>
                                <span class="axis-label right">Mayor emotividad</span>

                                <!-- cuadrantes (con el rol escrito en cada uno) -->
                                <div class="quadrant q-tl">Emprendedor</div>
                                <div class="quadrant q-tr">Expresivo</div>
                                <div class="quadrant q-bl">T√©cnico<br>Anal√≠tico</div>
                                <div class="quadrant q-br">Afable</div>

                                <!-- puntos -->
                                <div class="axis-point preview" id="a3-point-preview" title="Previsualizaci√≥n"></div>
                                <div class="axis-point final" id="a3-point-final" title="Mi posici√≥n"></div>
                            </div>

                            <aside class="axis-side">
                                <h4>Controles</h4>
                                <p>
                                    Consejo: mi resultado es <strong>T√©cnico Anal√≠tico</strong>, as√≠ que mi punto
                                    cae en el cuadrante <strong>abajo-izquierda</strong>.
                                </p>

                                <button class="draw-btn" id="a3-draw" type="button">‚ú≥ Dibujar mi punto</button>

                                <div class="draw-result" id="a3-result"></div>
                            </aside>
                        </div>
                    </div>

                    <!-- ESCENA 3: REFLEXI√ìN -->
                    <div class="scene" data-scene="2">
                        <h3>üß† Reflexi√≥n ‚Äì ¬øPor qu√© me ha tocado T√©cnico Anal√≠tico?</h3>

                        <div class="role-reflection">
                            <p>
                                Mi resultado como <strong>T√©cnico Anal√≠tico</strong> encaja mucho con c√≥mo soy cuando trabajo en equipo:
                                suelo ir a lo <strong>seguro</strong>, prefiero entender el contexto antes de actuar y me centro en que las cosas
                                queden bien hechas, m√°s que en improvisar o tirarme sin pensar.
                            </p>

                            <p>
                                En la tabla se nota que no soy una persona de ‚Äúhacer show‚Äù socialmente: por ejemplo, en comunicaci√≥n y opini√≥n/aceptaci√≥n
                                tengo valores altos (4), lo que indica que no suelo buscar destacar o imponerme, sino que tiendo a ser m√°s reservado y
                                a hablar cuando tengo algo claro que aportar.
                            </p>

                            <p>
                                A la vez, el hecho de que el <strong>contacto visual</strong> me salga fuerte (1) y el di√°logo/tono de voz est√©n en medio (3),
                                me cuadra con un perfil que puede comunicarse bien, pero desde un enfoque m√°s <strong>serio y racional</strong> que emocional.
                            </p>

                            <p>
                                En sensibilidad, aunque puedo ser abierto y social, tampoco soy el t√≠pico perfil ‚Äúexpresivo‚Äù. Por eso el conjunto me coloca en
                                el cuadrante donde predomina lo <strong>l√≥gico, pausado y anal√≠tico</strong>.
                            </p>

                            <p><strong>Conclusi√≥n:</strong> mi rol en un equipo suele ser aportar <strong>orden, l√≥gica y revisi√≥n cr√≠tica</strong>.
                                Mientras otros tiran de energ√≠a social o impulsan el cambio, yo estabilizo, estructuro y hago que el trabajo tenga base.</p>
                        </div>
                    </div>
                </section>
            </article>

            <!-- Actividad 2 ‚Äì Identifico tipos de liderazgo -->
            <article class="activity-card" data-activity="a2">
                <button class="activity-close" type="button">‚úï</button>
                <header class="activity-header">
                    <span class="activity-title">Actividad 2</span>
                    <span class="activity-subtitle">Identificaci√≥n de liderazgo en 3 v√≠deos</span>
                </header>

                <div class="activity-body">
                    <div class="activity-icon">
                        <img src="../imagenes/iconos/Display052.ico" alt="Icono actividad 2">
                    </div>
                    <div class="activity-text">
                        <h3>Mira cada v√≠deo y desbloquea tu an√°lisis</h3>
                        <p>
                            Observa los tres clips y determina qu√© tipo de liderazgo aparece en cada uno.
                            Despu√©s pulsa para mostrar tu reflexi√≥n.
                        </p>
                        <span class="activity-tag">Haz clic en la tarjeta para ampliarla</span>
                    </div>
                </div>

                <!-- CONTENIDO INTERNO (solo visible al hacer clic y expandir) -->
                <section class="activity-content activity2-content">
                    <div class="activity2-row">
                        <!-- VIDEO 1 -->
                        <article class="video-mini-card" data-video="1">
                            <span class="mini-title">V√≠deo 1</span>

                            <div class="mini-video-frame">
                                <iframe src="https://www.youtube.com/watch?v=9O44I0POZDw" allowfullscreen></iframe>
                            </div>

                            <button class="mini-unlock-btn" type="button">üéÆ Mostrar mi an√°lisis</button>

                            <div class="mini-answer">
                                <p>
                                    Un liderazgo centrado en el <strong>bien com√∫n</strong>, que deja de lado intereses
                                    personales y act√∫a pensando en lo mejor para todos sin buscar un beneficio propio.
                                </p>
                            </div>
                        </article>

                        <!-- VIDEO 2 -->
                        <article class="video-mini-card" data-video="2">
                            <span class="mini-title">V√≠deo 2</span>

                            <div class="mini-video-frame">
                                <iframe src="https://www.youtube.com/watch?v=E8UQrDD2nQw" allowfullscreen></iframe>
                            </div>

                            <button class="mini-unlock-btn" type="button">üéÆ Mostrar mi an√°lisis</button>

                            <div class="mini-answer">
                                <p>
                                    Un liderazgo que <strong>rompe esquemas</strong> y toma la iniciativa incluso cuando
                                    existen riesgos importantes, priorizando avanzar a toda costa.
                                </p>
                            </div>
                        </article>

                        <!-- VIDEO 3 -->
                        <article class="video-mini-card" data-video="3">
                            <span class="mini-title">V√≠deo 3</span>

                            <div class="mini-video-frame">
                                <iframe src="https://www.youtube.com/watch?v=7nZbDqN3A44" allowfullscreen></iframe>
                            </div>

                            <button class="mini-unlock-btn" type="button">üéÆ Mostrar mi an√°lisis</button>

                            <div class="mini-answer">
                                <p>
                                    Un liderazgo guiado por <strong>emociones y sentimientos personales</strong>,
                                    actuando seg√∫n c√≥mo se siente y persiguiendo sus objetivos sin importar las consecuencias.
                                </p>
                            </div>
                        </article>
                    </div>
                </section>
            </article>

            <!-- Actividad 3 ‚Äì Selector de rol tipo videojuego -->
            <article class="activity-card" data-activity="a1">
                <button class="activity-close" type="button">‚úï</button>
                <header class="activity-header">
                    <span class="activity-title">Actividad 3</span>
                    <span class="activity-subtitle">‚ÄúElijo mi rol en el equipo‚Äù</span>
                </header>

                <div class="activity-body">
                    <div class="activity-icon">
                        <img src="../imagenes/iconos/Alert026.ico" alt="Icono actividad 1">
                    </div>
                    <div class="activity-text">
                        <h3>Selecciona tu rol para desbloquear la ficha</h3>
                        <p>
                            Elige el rol que encaja m√°s contigo en un equipo.
                            Solo si aciertas, se desbloquear√° tu respuesta real en el diario.
                        </p>
                        <span class="activity-tag">Haz clic en una carta de rol</span>
                    </div>
                </div>

                <!-- CONTENIDO INTERACTIVO TIPO VIDEOJUEGO -->
                <section class="activity-content activity1-content">
                    <div class="role-selector">
                        <div class="role-selector-hud">
                            <span class="role-hud-label">RA2 ¬∑ Competencias</span>
                            <span class="role-hud-step">Paso 1/2 ¬∑ Elige tu rol</span>
                        </div>

                        <div class="role-grid">
                            <!-- GUIDADO (rol correcto) -->
                            <button class="role-card" data-role="guiado" type="button">
                                <span class="role-name">Rol: Guiado</span>
                                <span class="role-desc">
                                    Me centro en el bien com√∫n, organizo y escucho.
                                </span>
                                <span class="role-stats">
                                    Fortalezas: Escucha ¬∑ Claridad ¬∑ Responsabilidad
                                </span>
                            </button>

                            <!-- INICIATIVA -->
                            <button class="role-card" data-role="iniciativa" type="button">
                                <span class="role-name">Rol: Iniciativa</span>
                                <span class="role-desc">
                                    Rompo esquemas y tomo riesgos para avanzar.
                                </span>
                                <span class="role-stats">
                                    Fortalezas: Creatividad ¬∑ Rapidez ¬∑ Valor
                                </span>
                            </button>

                            <!-- EMOCIONAL -->
                            <button class="role-card" data-role="emocional" type="button">
                                <span class="role-name">Rol: Emocional</span>
                                <span class="role-desc">
                                    Cuido el ambiente del grupo y mantengo la motivaci√≥n.
                                </span>
                                <span class="role-stats">
                                    Fortalezas: Emoci√≥n ¬∑ Motivaci√≥n ¬∑ Persistencia
                                </span>
                            </button>
                        </div>

                        <div class="role-footer">
                            <button class="role-unlock-btn" type="button" disabled>
                                üîí Elige un rol para desbloquear tu respuesta
                            </button>
                            <p class="role-hint">Consejo: piensa en c√≥mo act√∫as realmente cuando trabajas con otras
                                personas.</p>
                        </div>

                        <!-- Paso 2: respuesta desbloqueada -->
                        <div class="role-result">
                            <h3>Respuesta desbloqueada ¬∑ Rol: Guiado ‚úÖ</h3>
                            <p class="role-result-text">
                                He elegido el rol <strong>Guiado</strong> porque cuando trabajo en equipo
                                suelo preocuparme por que todo el mundo entienda lo que hay que hacer,
                                organizo las tareas y escucho antes de tomar decisiones.
                                Me gusta que el grupo vaya alineado y me siento responsable de que las cosas
                                salgan bien para todos.
                            </p>
                            <p class="role-result-note">
                                Esta reflexi√≥n es la que llevar√© a mi diario IPE como evidencia de la actividad.
                            </p>
                        </div>
                    </div>
                </section>
            </article>

        </div>
    </main>

    <!-- BARRA INFERIOR: ESTILO WINDOWS 7 -->
    <footer class="bottom-bar">
        <!-- BOT√ìN INICIO WINDOWS 7 -->
        <button class="start-button" onclick="location.href='portada.html'">
            <img src="../imagenes/iconos/App004.ico" class="taskbar-icon" alt="Inicio Windows 7">
            <span class="start-text">Inicio</span>
        </button>

        <!-- ZONA CENTRAL: 5 ICONOS -->
        <div class="task-area">
            <button class="task-button" onclick="location.href='ra2.html'">
                <img src="../imagenes/iconos/Alert026.ico" class="task-icon-img" alt="RA2 ‚Äì Competencias">
                <span>RA2 ‚Äì Competencias</span>
            </button>

            <button class="task-button active-task" onclick="location.href='equipo.html'">
                <img src="../imagenes/iconos/User003.ico" class="task-icon-img" alt="Equipo de trabajo">
                <span>Equipo de trabajo</span>
            </button>

            <button class="task-button" onclick="location.href='comunicacion.html'">
                <img src="../imagenes/iconos/Display052.ico" class="task-icon-img" alt="Comunicaci√≥n">
                <span>Comunicaci√≥n</span>
            </button>

            <button class="task-button" onclick="location.href='emocional.html'">
                <img src="../imagenes/iconos/Game007.ico" class="task-icon-img" alt="Gesti√≥n emocional">
                <span>Gesti√≥n emocional</span>
            </button>

            <button class="task-button" onclick="location.href='tiempo.html'">
                <img src="../imagenes/iconos/Clock005.ico" class="task-icon-img" alt="Gesti√≥n del tiempo">
                <span>Gesti√≥n del tiempo</span>
            </button>
        </div>

        <!-- DERECHA: PESTA√ëA GITHUB / APPS -->
        <div class="tray-area">
            <div class="tray-tab" id="tray-tab">
                <div class="tray-arrow"></div>
            </div>

            <div class="tray-popup" id="tray-popup">
                <!-- GRID 3x3 DE ICONOS GRANDES -->
                <div class="tray-popup-grid">
                    <!-- GitHub -->
                    <div class="tray-grid-item">
                        <a href="https://github.com/darfixs" target="_blank" class="tray-grid-link"
                            title="GitHub @darfixs">
                            <span class="tray-grid-icon">
                                <img src="../imagenes/github-mark-white.svg" alt="GitHub">
                            </span>
                        </a>
                    </div>

                    <!-- Google Sites -->
                    <div class="tray-grid-item">
                        <a href="https://sites.google.com/g.educaand.es/jose-daro-alfaro-santos?usp=sharing"
                            target="_blank" class="tray-grid-link" title="Portafolio Google Sites">
                            <span class="tray-grid-icon">
                                <img src="../imagenes/skin1.ico" alt="Google Sites">
                            </span>
                        </a>
                    </div>

                    <!-- Google Drive -->
                    <div class="tray-grid-item">
                        <a href="https://drive.google.com/file/d/1Z9_u-usSgHbeIQ0XDAJBIhYxPz-ANJ00/view?usp=drive_link"
                            target="_blank" class="tray-grid-link" title="Documento en Drive">
                            <span class="tray-grid-icon">
                                <img src="../imagenes/skin2.ico" alt="Google Drive">
                            </span>
                        </a>
                    </div>

                    <!-- Skin3 -->
                    <div class="tray-grid-item">
                        <a href="https://skin3i.com" target="_blank" class="tray-grid-link" title="skin3i.com">
                            <span class="tray-grid-icon">
                                <img src="../imagenes/skin3.ico" alt="Skin3">
                            </span>
                        </a>
                    </div>

                    <!-- RELLENO DECORATIVO (sin enlace) -->
                    <div class="tray-grid-item"><span class="tray-grid-icon"></span></div>
                    <div class="tray-grid-item"><span class="tray-grid-icon"></span></div>
                    <div class="tray-grid-item"><span class="tray-grid-icon"></span></div>
                    <div class="tray-grid-item"><span class="tray-grid-icon"></span></div>
                    <div class="tray-grid-item"><span class="tray-grid-icon"></span></div>
                </div>

                <!-- Tarjeta mensaje GitHub -->
                <div class="tray-popup-github">
                    <a href="https://github.com/darfixs" target="_blank" class="tray-popup-link">
                        <span class="popup-github-mark">
                            <img src="../imagenes/github-mark-white.svg" alt="GitHub">
                        </span>
                        <span class="popup-text">¬°S√≠gueme en GitHub!</span>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.getElementById("fullscreen-btn").addEventListener("click", function () {
            const doc = document.documentElement;
            if (!document.fullscreenElement) {
                if (doc.requestFullscreen) doc.requestFullscreen();
                else if (doc.webkitRequestFullscreen) doc.webkitRequestFullscreen();
                else if (doc.mozRequestFullScreen) doc.mozRequestFullScreen();
                else if (doc.msRequestFullscreen) doc.msRequestFullscreen();
            } else {
                if (document.exitFullscreen) document.exitFullscreen();
                else if (document.webkitExitFullscreen) document.webkitExitFullscreen();
                else if (document.mozCancelFullScreen) doc.mozCancelFullScreen();
                else if (document.msExitFullscreen) document.msExitFullscreen();
            }
        });

        // DVD LOGO BOUNCING (versi√≥n sin intro-card)
        (function () {
            const logo = document.getElementById('dvd-pfp');
            const topBar = document.querySelector('.top-bar');
            const bottomBar = document.querySelector('.bottom-bar');

            if (!logo || !topBar || !bottomBar) return;

            const LOGO_WIDTH = 90;
            logo.style.width = LOGO_WIDTH + "px";

            let x = 40;
            let y = topBar.offsetHeight + 40;

            let vx = 2.4;
            let vy = 2.0;

            const bounds = { left: 0, right: 0, top: 0, bottom: 0, w: 0, h: 0 };

            function updateBounds() {
                const rect = logo.getBoundingClientRect();
                bounds.w = rect.width;
                bounds.h = rect.height;

                bounds.left = 0;
                bounds.right = window.innerWidth - bounds.w;

                const topH = topBar.offsetHeight;
                const bottomH = bottomBar.offsetHeight;
                bounds.top = topH;
                bounds.bottom = window.innerHeight - bottomH - bounds.h;
            }

            function step() {
                x += vx;
                y += vy;

                if (x <= bounds.left) { x = bounds.left; vx = Math.abs(vx); }
                else if (x >= bounds.right) { x = bounds.right; vx = -Math.abs(vx); }

                if (y <= bounds.top) { y = bounds.top; vy = Math.abs(vy); }
                else if (y >= bounds.bottom) { y = bounds.bottom; vy = -Math.abs(vy); }

                logo.style.left = x + 'px';
                logo.style.top = y + 'px';

                requestAnimationFrame(step);
            }

            window.addEventListener('resize', updateBounds);
            updateBounds();
            requestAnimationFrame(step);
        })();

        // Pesta√±a GitHub / Apps
        (function () {
            const trayTab = document.getElementById('tray-tab');
            const trayPopup = document.getElementById('tray-popup');

            if (!trayTab || !trayPopup) return;

            trayTab.addEventListener('click', () => {
                trayTab.classList.toggle('open');

                trayPopup.classList.remove('animate');
                void trayPopup.offsetWidth;
                trayPopup.classList.add('animate');
            });
        })();

        // Animaci√≥n tarjetas de actividades (expand/cerrar)
        (function () {
            const layer = document.querySelector('.activities-layer');
            const cards = document.querySelectorAll('.activity-card');

            if (!layer || !cards.length) return;

            function closeAll() {
                layer.classList.remove('expanded');
                cards.forEach(c => c.classList.remove('expanded'));
            }

            cards.forEach(card => {
                const closeBtn = card.querySelector('.activity-close');

                card.addEventListener('click', (e) => {
                    // si se ha hecho clic en el bot√≥n de cerrar, cerramos inmediatamente
                    if (e.target.closest('.activity-close')) {
                        closeAll();
                        return;
                    }

                    // si ya est√° expandida, no hacer nada al clic interno
                    if (card.classList.contains('expanded')) {
                        e.stopPropagation();
                        return;
                    }

                    // si no est√° expandida, expandirla
                    const already = card.classList.contains('expanded');
                    closeAll();
                    if (!already) {
                        layer.classList.add('expanded');
                        card.classList.add('expanded');
                    }
                });

                if (closeBtn) {
                    closeBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        closeAll();
                    });
                }
            });

            layer.addEventListener('click', (e) => {
                if (!layer.classList.contains('expanded')) return;
                if (e.target.closest('.activity-card')) return;
                closeAll();
            });
        })();

        // ‚úÖ Actividad 1 (a3) ¬∑ escenas + eje interactivo con bot√≥n "Dibujar"
        (function () {
            const card = document.querySelector('.activity-card[data-activity="a3"]');
            if (!card) return;

            const scenes = card.querySelectorAll('.scene');
            const stepEl = card.querySelector('#a3-step');
            const prevBtn = card.querySelector('#a3-prev');
            const nextBtn = card.querySelector('#a3-next');

            const axis = card.querySelector('#a3-axis');
            const previewPoint = card.querySelector('#a3-point-preview');
            const finalPoint = card.querySelector('#a3-point-final');
            const drawBtn = card.querySelector('#a3-draw');
            const resultBox = card.querySelector('#a3-result');

            let sceneIndex = 0;

            // coords normalizadas (-1..1)
            // Por defecto: t√©cnico anal√≠tico (abajo-izquierda)
            let pick = { x: -0.35, y: -0.28 };   // preview
            let final = { x: -0.35, y: -0.28 };  // final

            function clamp(n, min, max) {
                return Math.max(min, Math.min(max, n));
            }

            function showScene(i) {
                sceneIndex = clamp(i, 0, scenes.length - 1);
                scenes.forEach((s, idx) => s.classList.toggle('active', idx === sceneIndex));

                stepEl.textContent = `Escena ${sceneIndex + 1}/${scenes.length}`;
                prevBtn.disabled = sceneIndex === 0;
                nextBtn.disabled = sceneIndex === scenes.length - 1;
            }

            prevBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                showScene(sceneIndex - 1);
            });

            nextBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                showScene(sceneIndex + 1);
            });

            function toPixels(nX, nY) {
                // nX: -1 izquierda, +1 derecha
                // nY: -1 abajo, +1 arriba
                const rect = axis.getBoundingClientRect();
                const px = ((nX + 1) / 2) * rect.width;
                const py = ((1 - (nY + 1) / 2)) * rect.height;
                return { px, py };
            }

            function setPoint(el, nX, nY, mode) {
                const rect = axis.getBoundingClientRect();
                const { px, py } = toPixels(nX, nY);

                el.style.left = clamp(px, 0, rect.width) + 'px';
                el.style.top = clamp(py, 0, rect.height) + 'px';

                el.classList.remove('preview', 'final');
                el.classList.add(mode);
                el.style.display = 'block';
            }

            function quadrantRole(nX, nY) {
                // top-left: Emprendedor | top-right: Expresivo | bottom-left: T√©cnico Anal√≠tico | bottom-right: Afable
                const top = nY > 0;
                const right = nX > 0;

                if (top && !right) return 'Emprendedor';
                if (top && right) return 'Expresivo';
                if (!top && !right) return 'T√©cnico Anal√≠tico';
                return 'Afable';
            }

            // click en el eje = previsualizaci√≥n
            axis.addEventListener('click', (e) => {
                // si el usuario hace click en la escena 2
                const rect = axis.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                // normalizar a -1..1
                const nX = ((x / rect.width) * 2) - 1;
                const nY = 1 - ((y / rect.height) * 2);

                pick.x = clamp(nX, -1, 1);
                pick.y = clamp(nY, -1, 1);

                setPoint(previewPoint, pick.x, pick.y, 'preview');
                resultBox.classList.remove('visible');
            });

            // bot√≥n dibujar = fija el punto + muestra rol
            drawBtn.addEventListener('click', (e) => {
                e.stopPropagation();

                final.x = pick.x;
                final.y = pick.y;

                setPoint(finalPoint, final.x, final.y, 'final');

                const role = quadrantRole(final.x, final.y);
                resultBox.innerHTML = `‚úÖ Punto dibujado. Cuadrante detectado: <strong>${role}</strong>.`;
                resultBox.classList.add('visible');
            });

            // inicial: pinta preview y final en t√©cnico anal√≠tico para que se vea desde ya
            // (cuando abras la actividad y entres a la escena 2, estar√° correcto)
            function initDefaultPoints() {
                // si a√∫n no hay layout estable, espera un frame
                requestAnimationFrame(() => {
                    setPoint(previewPoint, pick.x, pick.y, 'preview');
                    setPoint(finalPoint, final.x, final.y, 'final');
                });
            }

            // al abrir/cerrar la tarjeta puede cambiar el tama√±o: recalcular posiciones
            window.addEventListener('resize', initDefaultPoints);

            // arranque
            showScene(0);
            initDefaultPoints();
        })();

        // Minijuego Actividad 3 (a1): elegir rol guiado
        (function () {
            const card = document.querySelector('.activity-card[data-activity="a1"]');
            if (!card) return;

            const roleCards = card.querySelectorAll('.role-card');
            const unlockBtn = card.querySelector('.role-unlock-btn');
            const resultBox = card.querySelector('.role-result');
            const hint = card.querySelector('.role-hint');

            let selectedRole = null;
            let unlocked = false;

            roleCards.forEach(rc => {
                rc.addEventListener('click', (e) => {
                    e.stopPropagation();

                    if (unlocked) return;

                    roleCards.forEach(r => r.classList.remove('selected', 'wrong'));
                    rc.classList.add('selected');

                    selectedRole = rc.dataset.role;

                    if (selectedRole === 'guiado') {
                        unlockBtn.disabled = false;
                        unlockBtn.classList.add('enabled');
                        unlockBtn.textContent = '‚úÖ Confirmar rol Guiado y desbloquear respuesta';
                        hint.textContent = 'Has elegido Guiado. Pulsa el bot√≥n para ver tu respuesta en el diario.';
                    } else {
                        rc.classList.add('wrong');
                        unlockBtn.disabled = true;
                        unlockBtn.classList.remove('enabled');
                        unlockBtn.textContent = 'üîí Este no es mi rol real. Prueba otro.';
                        hint.textContent = 'Piensa en qu√© sueles hacer t√∫: ¬øorganizar y escuchar, arriesgar o animar al grupo?';
                    }
                });
            });

            unlockBtn.addEventListener('click', (e) => {
                e.stopPropagation();

                if (selectedRole !== 'guiado' || unlocked) return;

                unlocked = true;
                resultBox.style.display = 'block';
                hint.textContent = 'Respuesta guardada mentalmente: ya puedes trasladarla a tu diario IPE.';
                unlockBtn.textContent = 'Rol Guiado confirmado ‚úî';
                unlockBtn.disabled = true;
                unlockBtn.classList.remove('enabled');
            });
        })();

        // Actividad 2 (a2): mostrar/ocultar an√°lisis
        (function () {
            const cards = document.querySelectorAll('.video-mini-card');

            cards.forEach(card => {
                const btn = card.querySelector('.mini-unlock-btn');
                const ans = card.querySelector('.mini-answer');

                btn.addEventListener('click', (e) => {
                    e.stopPropagation();

                    const isVisible = ans.classList.contains("visible");

                    if (!isVisible) {
                        ans.classList.add("visible");
                        btn.textContent = "‚úÖ An√°lisis mostrado";
                    } else {
                        ans.classList.remove("visible");
                        btn.textContent = `üéÆ Mostrar mi an√°lisis`;
                    }
                });
            });
        })();
    </script>
</body>

</html>
